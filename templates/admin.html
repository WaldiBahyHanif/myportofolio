{% extends "layout.html" %} {% block title %}Admin Dashboard{% endblock %} {%
block content %}
<h2>Admin Dashboard</h2>
<p>Selamat datang, {{ session['username'] }}!</p>

<section id="edit-profile">
  <h3>Edit Profil</h3>
  <form
    method="POST"
    action="{{ url_for('edit_profile') }}"
    enctype="multipart/form-data"
  >
    <div>
      <label for="name">Nama</label>
      <input
        type="text"
        id="name"
        name="name"
        value="{{ profile['name'] if profile else '' }}"
      />
    </div>
    <div>
      <label for="bio">Bio</label>
      <textarea id="bio" name="bio" rows="5">
{{ profile['bio'] if profile else '' }}</textarea
      >
    </div>
    <div>
      <label for="photo">Foto Profil</label>
      <input type="file" id="photo" name="photo" />
    </div>
    <button type="submit">Update Profil</button>
  </form>
</section>

<section id="manage-skills">
  <h3>Kelola Skills</h3>
  <form method="POST" action="{{ url_for('add_skill') }}">
    <h4>Tambah Skill Baru</h4>
    <label>Nama Skill</label>
    <input type="text" name="name" placeholder="cth: Python" required />
    <label>Level (0-100)</label>
    <input type="number" name="level" value="80" required />
    <label>Ikon (Font Awesome)</label>
    <input type="text" name="icon" placeholder="cth: fab fa-python" />
    <button type="submit">Tambah Skill</button>
  </form>

  <h4>Daftar Skill</h4>
  <ul class="admin-list">
    {% for skill in skills %}
    <li>
      <span
        ><i class="{{ skill['icon'] }}"></i> {{ skill['name'] }} ({{
        skill['level'] }}%)</span
      >
      <div>
        <a
          href="{{ url_for('edit_skill', id=skill['id']) }}"
          style="color: #007bff; margin-right: 15px; text-decoration: none"
          >Edit</a
        >
        <a href="{{ url_for('delete_skill', id=skill['id']) }}">Hapus</a>
      </div>
    </li>
    {% endfor %}
  </ul>
</section>

<section id="manage-projects">
  <h3>Kelola Projects</h3>
  <form
    method="POST"
    action="{{ url_for('add_project') }}"
    enctype="multipart/form-data"
  >
    <h4>Tambah Proyek Baru</h4>
    <label>Judul</label>
    <input type="text" name="title" required />
    <label>Deskripsi</label>
    <textarea name="description"></textarea>
    <label>Link Proyek</label>
    <input type="url" name="link" placeholder="https://..." />
    <label>Gambar Proyek</label>
    <input type="file" name="image" />
    <button type="submit">Tambah Proyek</button>
  </form>

  <h4>Daftar Proyek</h4>
  <ul class="admin-list">
    {% for project in projects %}
    <li>
      <span>{{ project['title'] }}</span>
      <div>
        <a
          href="{{ url_for('edit_project', id=project['id']) }}"
          style="color: #007bff; margin-right: 15px; text-decoration: none"
          >Edit</a
        >

        <a href="{{ url_for('delete_project', id=project['id']) }}">Hapus</a>
      </div>
    </li>
    {% endfor %}
  </ul>
</section>
{% endblock %}
